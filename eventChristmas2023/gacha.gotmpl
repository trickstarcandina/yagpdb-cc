{{/* 
<:dice1:1019933441296453642> 
<:dice2:1019933454894370847>
<:dice3:1019933466718130186>
<:dice4:1019933477572988938>
<:dice5:1019933496342478848>
<:dice6:1019933510049476639>
*/}}
{{$channel := 922790092853084160}}
{{$user := .User.Mention}}

{{ $totalticket := 0 }} 
{{ with dbGet .User.ID "countticket" }}
	{{ $totalticket = .Value }}
{{ end }}

{{ $currentpos := 0 }} 
{{ with dbGet .User.ID "currentpos" }}
	{{ $currentpos = .Value }}
{{ end }}
{{if $currentpos}}
{{else}}
	{{dbSet .User.ID "currentpos" (toInt 0)}}
    {{ $currentpos = (toInt 0)}}
{{end}}

{{/* 
key 
- "countticket"s
- "countevent"
- "eventdaily"
- "checkfull"

- "currentpos"
- "countallevent"


4, 26, 77, 97 : MÃ³c máº¡nh lÃªn, Ä‘Æ°á»£c ( 1-80% / 2 -20% ) quáº£ thÃ´ng rá»“i, thu tháº­p thÃªm Ä‘á»ƒ Ä‘á»•i quÃ  nhÃ© ! 
7, 32, 69, 86 : Há»™p quÃ *
16 : BÃ£o tuyáº¿t cuá»‘n báº¡n Ä‘áº¿n Ã´ 20 rá»“i, thÃ­ch tháº­t ! 
20 : BÃ£o tuyáº¿t cuá»‘n báº¡n Ä‘áº¿n Ã´ 16 rá»“i, thÃ­ch tháº­t ! 
18, 56 : Nháº·t Ä‘Æ°á»£c Ä‘Ã´i vá»›, pháº£i lÃ m nhiá»‡m vá»¥ Ä‘á»ƒ vÆ°á»£t qua nha, nhiá»‡m vá»¥ láº§n nÃ y : 
    LÃªn â ğŸ€â”Šthá»i-sá»± gá»­i lá»i chÃ o ( 25% ) / 
    LÃªn â ğŸ’«â”Šshare chia sáº» 1 táº¥m hÃ¬nh báº¡n tháº¥y vui ( 50% ) / 
    Treo Voice 15 phÃºt táº¡i Server ( 25% )
27 : Merry Christmas ! 
28, 96 : Nháº¯c báº¡n : VÃ o #rung-chuÃ´ng nháº­n quÃ  nhÃ© ! 
41, 72 : ChÃºc má»«ng báº¡n nháº·t Ä‘Æ°á»£c 2 quáº£ thÃ´ng trÃªn Ä‘Æ°á»ng Ä‘i
45 : ChÃºc má»«ng báº¡n luá»“n qua á»‘ng khÃ³i Ä‘áº¿n Ä‘Æ°á»£c Ã´ 61
48, 91 : ChÃºc má»«ng báº¡n nháº­n thÃªm 1 xÃ­ ngáº§u â¤ï¸ 
51 : ChÃºc má»«ng báº¡n nháº·t Ä‘Æ°á»£c 1 quáº£ thÃ´ng trÃªn Ä‘Æ°á»ng Ä‘i
58 : Há»‘ Ä‘en Ä‘Æ°a báº¡n Ä‘áº¿n Ã´ 64 rá»“i, thÃ­ch tháº­t ! 
64 : Há»‘ Ä‘en Ä‘Æ°a báº¡n Ä‘áº¿n Ã´ 58 rá»“i, thÃ­ch tháº­t ! 

16 <-> 20
45 -> 61
58 <-> 64

*/}}

{{if gt (toInt $totalticket) 0}}
    {{$rand1 := randInt 6}}
    {{$pos := dbIncr .User.ID "currentpos" $rand1}}
    {{$m := dbIncr .User.ID "countallevent" $rand1}}
    {{if eq $rand1 0}}
        {{sendMessage nil (printf "<:dice1:1019933441296453642>")}}
    {{else if eq $rand1 1}}
        {{sendMessage nil (printf "<:dice2:1019933454894370847>")}}
    {{else if eq $rand1 2}}
        {{sendMessage nil (printf "<:dice3:1019933466718130186>")}}
    {{else if eq $rand1 3}}
        {{sendMessage nil (printf "<:dice4:1019933477572988938>")}}
    {{else if eq $rand1 4}}
        {{sendMessage nil (printf "<:dice5:1019933496342478848>")}}
    {{else if eq $rand1 5}}
        {{sendMessage nil (printf "<:dice6:1019933510049476639>")}}
    {{else}}
        {{sendMessage nil (printf "Báº¡n Ä‘Ã£ bá»‹ ğŸ‘» láº¥y cáº¯p xÃºc sáº¯c.")}}
    {{end}}
    {{$countxucsac := dbIncr .User.ID "countticket" -1}}
    {{sendMessage nil (print $user " báº¡n Ä‘Ã£ Ä‘áº¿n Ã´ " $pos ". Báº¡n cÃ²n " $countxucsac " xÃºc sáº¯c.")}}


    {{if eq (toInt $pos) 16}}
        {{.User.Mention}} Ã” 16 lÃ  Ã´ Ä‘áº·c biá»‡t. Báº¡n nháº£y lÃªn Ã´ {{dbIncr .User.ID "currentpos" 4}}
    {{else if eq (toInt $pos) 20}}
        {{.User.Mention}} Ã” 20 lÃ  Ã´ Ä‘áº·c biá»‡t. Báº¡n lá»t xuá»‘ng Ã´ {{dbIncr .User.ID "currentpos" -4}}
    {{else if eq (toInt $pos) 45}}
        {{.User.Mention}} Ã” 45 lÃ  Ã´ Ä‘áº·c biá»‡t. Báº¡n nháº£y lÃªn Ã´ {{dbIncr .User.ID "currentpos" 16}}
    {{else if eq (toInt $pos) 58}}
        {{.User.Mention}} Ã” 58 lÃ  Ã´ Ä‘áº·c biá»‡t. Báº¡n nháº£y lÃªn Ã´ {{dbIncr .User.ID "currentpos" 6}}
    {{else if eq (toInt $pos) 64}}
        {{.User.Mention}} Ã” 64 lÃ  Ã´ Ä‘áº·c biá»‡t. Báº¡n lá»t xuá»‘ng Ã´ {{dbIncr .User.ID "currentpos" -6}}

    {{/*
    TODO
    */}}
    {{else if eq (toInt $pos) 19}}
        {{$rand2 := randInt 6}}
        {{if eq $rand2 1}}
            {{.User.Mention}} Báº¡n bá»‹ máº¥t 3 xÃºc sáº¯c. Báº¡n cÃ²n {{dbIncr .User.ID "countticket" -3}} xÃºc sáº¯c. 
        {{else if eq $rand2 2}}
            {{.User.Mention}} Báº¡n nháº­n Ä‘Æ°á»£c thÃªm 2 xÃºc sáº¯c. Báº¡n cÃ³ {{dbIncr .User.ID "countticket" 2}} xÃºc sáº¯c. 
        {{else if eq $rand2 3}}
            {{.User.Mention}} Báº¡n nháº£y lÃªn Ã´ {{dbIncr .User.ID "currentpos" 12}}
        {{else}}
            {{.User.Mention}} LÃªn <#763256876741427241> tháº£ thÃ­nh <@662508642251309057> hoáº·c lÃ  báº¡n sáº½ máº¥t háº¿t quÃ .
        {{end}}
    {{else if eq (toInt $pos) 30}}
        {{sendMessage $channel (print "ChÃºc má»«ng " $user " Ä‘Ã£ Ä‘áº¿n Ã´ 30 vÃ  nháº­n Ä‘Æ°á»£c 20.000 OwO vÃ  role Noel.")}}
    {{else if eq (toInt $pos) 55}}
        {{sendMessage $channel (print "ChÃºc má»«ng " $user " Ä‘Ã£ Ä‘áº¿n Ã´ 55 vÃ  nháº­n Ä‘Æ°á»£c 50.000 OwO.")}}
    {{else if eq (toInt $pos) 85}}
        {{sendMessage $channel (print "ChÃºc má»«ng " $user " Ä‘Ã£ Ä‘áº¿n Ã´ 85 vÃ  nháº­n Ä‘Æ°á»£c 80.000 OwO.")}}
    {{else if eq (toInt $pos) 100}}
        {{$rand2 := randInt 10}}
        {{if eq $rand2 1}}
            {{sendMessage $channel (print "ChÃºc má»«ng " $user " Ä‘Ã£ Ä‘áº¿n Ã´ 100 vÃ  nháº­n Ä‘Æ°á»£c 500.000 OwO.")}}
        {{else if eq $rand2 2}}
            {{sendMessage $channel (print "ChÃºc má»«ng " $user " Ä‘Ã£ Ä‘áº¿n Ã´ 100 vÃ  nháº­n Ä‘Æ°á»£c 200.000 OwO.")}}  
        {{else}}
            {{sendMessage $channel (print "ChÃºc má»«ng " $user " Ä‘Ã£ Ä‘áº¿n Ã´ 100 vÃ  nháº­n Ä‘Æ°á»£c 100.000 OwO.")}}  
        {{end}}
    {{else if gt (toInt $pos) 100}}
        {{/* reset */}}
        ÄÃ£ háº¿t vÃ²ng báº¡n Ä‘i tá»›i tiáº¿p Ã´ {{dbIncr .User.ID "currentpos" -100}}
        {{sendMessage $channel (print "ChÃºc má»«ng " $user " Ä‘Ã£ hoÃ n thÃ nh vÃ²ng Ä‘ua vÃ  nháº­n Ä‘Æ°á»£c 100.000 OwO.")}}  
    {{else if eq (toInt $pos) 9}}
        ChÃºc má»«ng báº¡n nháº­n mÃ³n quÃ  Ä‘áº·c biá»‡t lÃ  má»™t lá»i chÃºc má»«ng giÃ¡ng sinh tháº­t Ã½ nghÄ©a tá»« TV {{.User.Mention}}.
    {{end}}

{{else}}
    {{.User.Mention}} Báº¡n Ä‘Ã£ háº¿t lÆ°á»£t chÆ¡i. HÃ£y lÃ m thÃªm nhiá»‡m vá»¥ ( xem táº¡i ghim ) Ä‘á»ƒ kiáº¿m lÆ°á»£t nhÃ©.
{{end}}